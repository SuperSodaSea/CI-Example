language: cpp


matrix:
  include:
    - env: CONFIG=debug FLAGS="-m32"
      compiler: gcc
    - env: CONFIG=release FLAGS="-m32"
      compiler: gcc
    - env: CONFIG=debug FLAGS="-m64"
      compiler: gcc
    - env: CONFIG=release FLAGS="-m64"
      compiler: gcc
    - env: CONFIG=debug FLAGS="-m32"
      compiler: clang
    - env: CONFIG=release FLAGS="-m32"
      compiler: clang
    - env: CONFIG=debug FLAGS="-m64"
      compiler: clang
    - env: CONFIG=release FLAGS="-m64"
      compiler: clang

before_script:
- cmake -H. -Bbuild -DCMAKE_BUILD_TYPE=$CONFIG -DCMAKE_CXX_FLAGS=$FLAGS

script:
- make -C build

after_success:
- ./build/Main
